{"version":3,"file":"static/js/16.7de7b460.chunk.js","mappings":"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","sources":["components/comicsItems/ComicsItems.js","components/appBanner/AppBanner.js","components/pages/ComicsPage.js","components/spiner2/Spiner2.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport \"./ComicsItems.scss\";\nimport useMarvelServise from \"../../services/MarvelServise\";\nimport Spinner from \"../spiner/Spiner\";\nimport Spiner2 from \"../spiner2/Spiner2\";\nimport { Link } from \"react-router-dom\";\n\nconst ComicsItems = () => {\n  const [comicsItems, setcomicsItems] = useState([]);\n  const [newItemLoading, setNewItemLoading] = useState(false);\n  const [offset, setOffset] = useState(24);\n  const [chaeEnded, setChaeEnded] = useState(false);\n  const { loading, error, getAllComics } = useMarvelServise();\n\n  useEffect(() => {\n    request(offset, true);\n  }, []);\n\n  const request = (offset, initial) => {\n    initial ? setNewItemLoading(false) : setNewItemLoading(true);\n    getAllComics(offset).then(onChatLoaded);\n  };\n\n  const onChatLoaded = (res) => {\n    setcomicsItems([...comicsItems, ...res]);\n    setOffset((offset) => offset + 8);\n    setNewItemLoading(false);\n  };\n\n  const renderItems = (arr) => {\n    const items = arr.map((item, i) => {\n      return (\n        <li className=\"comics__item\" tabIndex={0} key={item.id}>\n          <Link to={`/comics/${item.id}`}>\n            <img src={item.thumbnail} alt={item.name} style={item.style} />\n            <div className=\"comics__name\">{item.name}</div>\n            <div className=\"comics__price\">{item.prices}</div>\n          </Link>\n        </li>\n      );\n    });\n\n    return <ul className=\"comics__grid\">{items}</ul>;\n  };\n\n  function removeDuplicates(arrComics) {\n    const arr = arrComics.map((item) => {\n      if (item.thumbnail.includes(\"image_not_available\")) {\n        item.style = { objectFit: \"unset\" };\n      }\n\n      return item;\n    });\n\n    const result = [];\n    const duplicatesIndices = [];\n\n    // Перебираем каждый элемент в исходном массиве\n    arr.forEach((current, index) => {\n      if (duplicatesIndices.includes(index)) return;\n\n      result.push(current);\n\n      // Сравниваем каждый элемент в массиве после текущего\n      for (\n        let comparisonIndex = index + 1;\n        comparisonIndex < arr.length;\n        comparisonIndex++\n      ) {\n        const comparison = arr[comparisonIndex];\n        const currentKeys = Object.keys(current);\n        const comparisonKeys = Object.keys(comparison);\n\n        // Проверяем длину массивов\n        if (currentKeys.length !== comparisonKeys.length) continue;\n\n        // Проверяем значение ключей\n        const currentKeysString = currentKeys.sort().join(\"\").toLowerCase();\n        const comparisonKeysString = comparisonKeys\n          .sort()\n          .join(\"\")\n          .toLowerCase();\n        if (currentKeysString !== comparisonKeysString) continue;\n\n        // Проверяем индексы ключей\n        let valuesEqual = true;\n        for (let i = 0; i < currentKeys.length; i++) {\n          const key = currentKeys[i];\n          if (current[key] !== comparison[key]) {\n            valuesEqual = false;\n            break;\n          }\n        }\n        if (valuesEqual) duplicatesIndices.push(comparisonIndex);\n      } // Конец цикла\n    });\n    return result;\n  }\n\n  const items = renderItems(removeDuplicates(comicsItems));\n\n  const load = loading && !newItemLoading ? <Spinner /> : null;\n\n  return (\n    <>\n      <div className=\"comics\">\n        {load}\n        {error}\n        {items}\n\n        <button\n          onClick={() => request(offset)}\n          className=\"button button__main button__long\"\n          disabled={newItemLoading}\n          style={{ display: chaeEnded ? \"none\" : \"block\" }}\n        >\n          <div className=\"inner\">\n            {newItemLoading ? <Spiner2 /> : \"load more\"}\n          </div>\n        </button>\n      </div>\n    </>\n  );\n};\n\nexport default ComicsItems;\n","import \"./appBanner.scss\";\nimport avengers from \"../../resources/img/Avengers.png\";\nimport avengersLogo from \"../../resources/img/Avengers_logo.png\";\n\nconst AppBanner = () => {\n  return (\n    <div className=\"app__banner\">\n      <img src={avengers} alt=\"Avengers\" />\n      <div className=\"app__banner-text\">\n        New comics every week!\n        <br />\n        Stay tuned!\n      </div>\n      <img src={avengersLogo} alt=\"Avengers logo\" />\n    </div>\n  );\n};\n\nexport default AppBanner;\n","import ComicsItems from \"../comicsItems/ComicsItems\";\nimport AppBanner from \"../appBanner/AppBanner\";\n\nconst ComicsPage = () => {\n  return (\n    <>\n      <AppBanner />\n      <ComicsItems />\n    </>\n  );\n};\n\nexport default ComicsPage;\n","import \"./Spiner2.scss\";\n\nconst Spiner2 = () => {\n  return (\n    <div className=\"cssload-container\">\n      <div className=\"cssload-speeding-wheel\"></div>\n    </div>\n  );\n};\n\nexport default Spiner2;\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["useState","comicsItems","setcomicsItems","newItemLoading","setNewItemLoading","offset","setOffset","chaeEnded","useMarvelServise","loading","error","getAllComics","useEffect","request","initial","then","onChatLoaded","res","items","arr","map","item","i","className","tabIndex","to","id","src","thumbnail","alt","name","style","prices","renderItems","arrComics","includes","objectFit","result","duplicatesIndices","forEach","current","index","push","comparisonIndex","length","comparison","currentKeys","Object","keys","comparisonKeys","sort","join","toLowerCase","valuesEqual","key","removeDuplicates","load","onClick","disabled","display","Spiner2","avengers","avengersLogo","_toConsumableArray","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"sourceRoot":""}